#include <stdio.h>
#include <string.h>
#include <stdlib.h>

long int** sf_conv(char s[],int r,int c) {
    char *token;
    int l[r][2];
    int index = 0;
   long int  **a = malloc(r * sizeof(long int *));
    for (int i = 0; i < r; i++) {
        a[i] = malloc(c * sizeof(long int));
    }
    
    // Split the string by spaces
    token = strtok(s, " ");
    while (token != NULL) {
        // Split the token by comma and store in l
        char *comma = strchr(token, ',');
        *comma = '\0'; // Replace comma with null-terminator to split the string
        l[index][0] = atoi(token);
        l[index][1] = atoi(comma + 1);
        token = strtok(NULL, " ");
        index++;
    }
    
    // Populate the array a with 1s based on l
    for (int i = 0; i < index; i++) {
        a[l[i][0] - 1][l[i][1] - 1] = 1;
    }
    
    return a;
}
// function to print elements of a 2D array
void printarr(long int **resultArray,int r,int c)
{

    for (int i = 0; i < r; i++) {
        for (int j = 0; j < c; j++) {
            printf("%ld ", resultArray[i][j]);
        }
        printf("\n");
    }
}



int main() {
   // char sf2_A[]=;
   // char sf2_B[] = "50,1 308,8 15,16 323,23 30,31 338,38 45,46 301,1 8,9 316,16 23,24 331,31 38,39 346,46 1,2 309,9 16,17 324,24 31,32 339,39 46,47 302,2 9,10 317,17 24,25 332,32 39,40 347,47 2,3 310,10 17,18 325,25 32,33 340,40 47,48 303,3 10,11 318,18 25,26 333,33 40,41 348,48 3,4 311,11 18,19 326,26 33,34 341,41 48,49 304,4 11,12 319,19 26,27 334,34 41,42 349,49 4,5 312,12 19,20 327,27 34,35 342,42 49,50 305,5 12,13 320,20 27,28 335,35 42,43 350,50 5,6 313,13 20,21 328,28 35,36 343,43 306,6 13,14 321,21 28,29 336,36 43,44 6,7 314,14 21,22 329,29 36,37 344,44 307,7 14,15 322,22 29,30 337,37 44,45 7,8 315,15 22,23 330,30 37,38 345,45";

   // char sf2_C[]="48,1 34,37 7,223 7,359 43,395 6,431 12,467 49,2 35,38 8,224 8,360 44,396 7,432 13,468 50,3 36,39 9,225 9,361 45,397 8,433 14,469 1,4 37,40 10,226 10,362 46,398 9,434 15,470 2,5 38,41 11,227 11,363 47,399 10,435 16,471 3,6 39,42 12,228 12,364 48,400 11,436 17,472 4,7 40,43 13,229 13,365 26,401 12,437 18,473 5,8 41,44 14,230 14,366 27,402 13,438 19,474 6,9 42,45 15,231 15,367 28,403 14,439 20,475 7,10 43,46 16,232 16,368 29,404 15,440 21,476 8,11 44,47 17,233 17,369 30,405 16,441 22,477 9,12 45,48 18,234 18,370 31,406 17,442 23,478 10,13 46,49 19,235 19,371 32,407 18,443 24,479 11,14 47,50 20,236 20,372 33,408 19,444 25,480 12,15 35,201 21,237 21,373 34,409 20,445 26,481 13,16 36,202 22,238 22,374 35,410 21,446 27,482 14,17 37,203 23,239 23,375 36,411 22,447 28,483 15,18 38,204 24,240 24,376 37,412 23,448 29,484 16,19 39,205 25,241 25,377 38,413 24,449 30,485 17,20 40,206 26,242 26,378 39,414 25,450 31,486 18,21 41,207 27,243 27,379 40,415 46,451 32,487 19,22 42,208 28,244 28,380 41,416 47,452 33,488 20,23 43,209 29,245 29,381 42,417 48,453 34,489 21,24 44,210 30,246 30,382 43,418 49,454 35,490 22,25 45,211 31,247 31,383 44,419 50,455 36,491 23,26 46,212 32,248 32,384 45,420 1,456 37,492 24,27 47,213 33,249 33,385 46,421 2,457 38,493 25,28 48,214 34,250 34,386 47,422 3,458 39,494 26,29 49,215 49,351 35,387 48,423 4,459 40,495 27,30 50,216 50,352 36,388 49,424 5,460 41,496 28,31 1,217 1,353 37,389 50,425 6,461 42,497 29,32 2,218 2,354 38,390 1,426 7,462 43,498 30,33 3,219 3,355 39,391 2,427 8,463 44,499 31,34 4,220 4,356 40,392 3,428 9,464 45,500 32,35 5,221 5,357 41,393 4,429 10,465 33,36 6,222 6,358 42,394 5,430 11,466";


     char sf2_T[] = "1,1 25,25 49,49 73,73 97,97 121,121 145,145 24,1 48,25 72,49 96,73 120,97 144,121 168,145 2,2 26,26 50,50 74,74 98,98 122,122 146,146 25,2 49,26 73,50 97,74 121,98 145,122 169,146 3,3 27,27 51,51 75,75 99,99 123,123 147,147 26,3 50,27 74,51 98,75 122,99 146,123 170,147 4,4 28,28 52,52 76,76 100,100 124,124 148,148 27,4 51,28 75,52 99,76 123,100 147,124 171,148 5,5 29,29 53,53 77,77 101,101 125,125 149,149 28,5 52,29 76,53 100,77 124,101 148,125 172,149 6,6 30,30 54,54 78,78 102,102 126,126 150,150 29,6 53,30 77,54 101,78 125,102 149,126 173,150 7,7 31,31 55,55 79,79 103,103 127,127 151,151 30,7 54,31 78,55 102,79 126,103 150,127 174,151 8,8 32,32 56,56 80,80 104,104 128,128 152,152 31,8 55,32 79,56 103,80 127,104 151,128 175,152 9,9 33,33 57,57 81,81 105,105 129,129 153,153 32,9 56,33 80,57 104,81 128,105 152,129 176,153 10,10 34,34 58,58 82,82 106,106 130,130 154,154 33,10 57,34 81,58 105,82 129,106 153,130 177,154 11,11 35,35 59,59 83,83 107,107 131,131 155,155 34,11 58,35 82,59 106,83 130,107 154,131 178,155 12,12 36,36 60,60 84,84 108,108 132,132 156,156 35,12 59,36 83,60 107,84 131,108 155,132 179,156 13,13 37,37 61,61 85,85 109,109 133,133 157,157 36,13 60,37 84,61 108,85 132,109 156,133 180,157 14,14 38,38 62,62 86,86 110,110 134,134 158,158 37,14 61,38 85,62 109,86 133,110 157,134 181,158 15,15 39,39 63,63 87,87 111,111 135,135 159,159 38,15 62,39 86,63 110,87 134,111 158,135 182,159 16,16 40,40 64,64 88,88 112,112 136,136 160,160 39,16 63,40 87,64 111,88 135,112 159,136 183,160 17,17 41,41 65,65 89,89 113,113 137,137 161,161 40,17 64,41 88,65 112,89 136,113 160,137 184,161 18,18 42,42 66,66 90,90 114,114 138,138 162,162 41,18 65,42 89,66 113,90 137,114 161,138 185,162 19,19 43,43 67,67 91,91 115,115 139,139 163,163 42,19 66,43 90,67 114,91 138,115 162,139 186,163 20,20 44,44 68,68 92,92 116,116 140,140 164,164 43,20 67,44 91,68 115,92 139,116 163,140 187,164 21,21 45,45 69,69 93,93 117,117 141,141 165,165 44,21 68,45 92,69 116,93 140,117 164,141 188,165 22,22 46,46 70,70 94,94 118,118 142,142 166,166 45,22 69,46 93,70 117,94 141,118 165,142 189,166 23,23 47,47 71,71 95,95 119,119 143,143 167,167 46,23 70,47 94,71 118,95 142,119 166,143 190,167 24,24 48,48 72,72 96,96 120,120 144,144 168,168 47,24 71,48 95,72 119,96 143,120 167,144 191,168 169,169 202,179 190,190 223,200 211,211 244,221 235,235 192,169 180,180 213,190 201,201 234,211 222,222 236,236 170,170 203,180 191,191 224,201 212,212 245,222 237,237 193,170 181,181 214,191 202,202 235,212 223,223 238,238 171,171 204,181 192,192 225,202 213,213 246,223 239,239 194,171 182,182 215,192 203,203 236,213 224,224 240,240 172,172 205,182 193,193 226,203 214,214 247,224 241,241 195,172 183,183 216,193 204,204 237,214 225,225 242,242 173,173 206,183 194,194 227,204 215,215 248,225 243,243 196,173 184,184 217,194 205,205 238,215 226,226 244,244 174,174 207,184 195,195 228,205 216,216 249,226 245,245 197,174 185,185 218,195 206,206 239,216 227,227 246,246 175,175 208,185 196,196 229,206 217,217 250,227 247,247 198,175 186,186 219,196 207,207 240,217 228,228 248,248 176,176 209,186 197,197 230,207 218,218 251,228 249,249 199,176 187,187 220,197 208,208 241,218 229,229 250,250 177,177 210,187 198,198 231,208 219,219 230,230 251,251 200,177 188,188 221,198 209,209 242,219 231,231 178,178 211,188 199,199 232,209 220,220 232,232 201,178 189,189 222,199 210,210 243,220 233,233 179,179 212,189 200,200 233,210 221,221 234,234";
    // Process the string and get the array
  // long int **B_sf2 = sf_conv(sf2_B,550,50);
 //  printf("B_sf2\n");  printarr(B_sf2,550,50);
 //  for (int i = 0; i < 550; i++) {
 //      free(B_sf2[i]);}
 //   free(B_sf2);


   long int **T_sf2 = sf_conv(sf2_T,251,251);
   printf("T_sf2\n");  printarr(T_sf2,251,251);
   for (int i = 0; i < 251; i++) {
       free(T_sf2[i]);}
    free(T_sf2);


    
    return 0;
}





















/*

#include <stdio.h>
#include <string.h>
#include <stdlib.h>
//double sf_gen(char s[],int r,int c);
double sf_gen(char s[],int r,int c)
{

    char *token;
    int l[550][2];
    int index = 0;
    double a[550][50] = {0};
    
    // Split the string by spaces
    token = strtok(s, " ");
    while (token != NULL) {
        // Split the token by comma and store in l
        char *comma = strchr(token, ',');
        *comma = '\0'; // Replace comma with null-terminator to split the string
        l[index][0] = atoi(token);
        l[index][1] = atoi(comma + 1);
        token = strtok(NULL, " ");
        index++;
    }
    
        printf("index%d",index);
    // Populate the array a with 1s based on l
    for (int i = 0; i < index; i++) {
        a[l[i][0] - 1][l[i][1] - 1] = 1;
    }
    
    // Print the array B_s2
    printf("B_s2\n");
    for (int i = 0; i < 550; i++) {
        for (int j = 0; j < 50; j++) {
            printf("%.0f ", a[i][j]);
        }
        printf("\n");
    }
    
    return a;

}




int main() {
    char s[] = "50,1 308,8 15,16 323,23 30,31 338,38 45,46 301,1 8,9 316,16 23,24 331,31 38,39 346,46 1,2 309,9 16,17 324,24 31,32 339,39 46,47 302,2 9,10 317,17 24,25 332,32 39,40 347,47 2,3 310,10 17,18 325,25 32,33 340,40 47,48 303,3 10,11 318,18 25,26 333,33 40,41 348,48 3,4 311,11 18,19 326,26 33,34 341,41 48,49 304,4 11,12 319,19 26,27 334,34 41,42 349,49 4,5 312,12 19,20 327,27 34,35 342,42 49,50 305,5 12,13 320,20 27,28 335,35 42,43 350,50 5,6 313,13 20,21 328,28 35,36 343,43 306,6 13,14 321,21 28,29 336,36 43,44 6,7 314,14 21,22 329,29 36,37 344,44 307,7 14,15 322,22 29,30 337,37 44,45 7,8 315,15 22,23 330,30 37,38 345,45";



    char *token;
    int l[550][2];
    int index = 0;
    double a[550][50] = {0};
    
    // Split the string by spaces
    token = strtok(s, " ");
    while (token != NULL) {
        // Split the token by comma and store in l
        char *comma = strchr(token, ',');
        *comma = '\0'; // Replace comma with null-terminator to split the string
        l[index][0] = atoi(token);
        l[index][1] = atoi(comma + 1);
        token = strtok(NULL, " ");
        index++;
    }
    
        printf("index%d",index);
    // Populate the array a with 1s based on l
    for (int i = 0; i < index; i++) {
        a[l[i][0] - 1][l[i][1] - 1] = 1;
    }
 
    double a[550][50]=sf_gen(s,550,50);
    // Print the array B_s2
    printf("B_s2\n");
    for (int i = 0; i < 550; i++) {
        for (int j = 0; j < 50; j++) {
            printf("%.0f ", a[i][j]);
        }
        printf("\n");
    }
    
    return 0;
}

*/
